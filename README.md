# Тестовое задание
Задача:

- [x] 1. С помощью Docker (предпочтительно - docker-compose) развернуть образ с любой опенсорсной СУБД (предпочтительно - PostgreSQL). Предоставить все необходимые скрипты и конфигурационные (docker/compose) файлы для развертывания СУБД, а также инструкции для подключения к ней. Необходимо обеспечить сохранность данных при рестарте контейнера (то есть - использовать volume-ы для хранения файлов СУБД на хост-машине.
- [x] 2. Реализовать на Python3 веб сервис (с помощью FastAPI или Flask, например), выполняющий следующие функции:
  - [x] 2.1. В сервисе должно быть реализован POST REST метод, принимающий на вход запросы с содержимым вида {"questions_num": integer}.
  - [x] 2.2. После получения запроса сервис, в свою очередь, запрашивает с публичного API (англоязычные вопросы для викторин) https://jservice.io/api/random?count=1 указанное в полученном запросе количество вопросов.
  - [x] 2.3. Далее, полученные ответы должны сохраняться в базе данных из п. 1, причем сохранена должна быть как минимум следующая информация (название колонок и типы данный можете выбрать сами, также можете добавлять свои колонки): 1. ID вопроса, 2. Текст вопроса, 3. Текст ответа, 4. - Дата создания вопроса. В случае, если в БД имеется такой же вопрос, к публичному API с викторинами должны выполняться дополнительные запросы до тех пор, пока не будет получен уникальный вопрос для викторины.
  - [x] 2.4. Ответом на запрос из п.2.a должен быть предыдущей сохранённый вопрос для викторины. В случае его отсутствия - пустой объект.
- [x] 3. В репозитории с заданием должны быть предоставлены инструкции по сборке докер-образа с сервисом из п. 2., его настройке и запуску. А также пример запроса к POST API сервиса.
- [x] 4. Желательно, если при выполнении задания вы будете использовать docker-compose, SQLAalchemy,  пользоваться аннотацией типов.

Инструкция по развертке:
1. <a href="https://docs.docker.com/compose/">Установите Docker и Docker Compose</a> на свой сервер/компьютер;
2. Клонируйте репозиторий GitHub на свой сервер/компьютер, используя следующую команду:
```
git clone https://github.com/3dquattro/questions_api_tt.git
```
;
3. Перейдите в корневой каталог вашего проекта;
4. Произведите сборку образов docker командой:
```
docker-compose build
```
;
5. Запустите контейнеры следующей командой:
```
docker-compose up -d
```
;
6. Проверьте работоспособность сервиса (он должен быть доступен на порту 5000 на машине, где запущен, либо на порту 80, если обращаться с других машин)
Пример запроса к API:
```
{"question_num": 1}
```
7. В случае необходимости произведите отключение контейнеров следующей командой:
```
docker-compose down
```

П.с.: Прошу обратить внимание на необходмиость изменения файла docker-compose.yml (где содержатся параметры подключения к базе данных).
